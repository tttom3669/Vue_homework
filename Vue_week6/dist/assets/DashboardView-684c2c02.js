import{_,R as p,r as l,o as m,c as f,a as s,w as i,b as o,d as c,j as k}from"./index-5fac9801.js";import{S as V}from"./sweetalert2.all-3e6723c9.js";const{VITE_APP_URL:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/V2",VITE_APP_PATH:"tttom3669",BASE_URL:"/Vue_homework/Vue_week6/dist/",MODE:"production",DEV:!1,PROD:!0},$={components:{RouterView:p},methods:{logout(){document.cookie=`yoToken=; expires=${new Date}`,this.$router.push("/login")},checkLogin(){var r;const a=(r=document.cookie.split(";").find(e=>e.startsWith("yoToken=")))==null?void 0:r.split("=")[1];this.$http.defaults.headers.common.Authorization=a;const t=`${w}/api/user/check`;this.$http.post(t).then(e=>{e.data.success||this.$router.push("/login")}).catch(()=>{V.fire({icon:"error",title:"請重新登入"}),this.$router.push("/login")})}},mounted(){this.checkLogin()}},g={class:"container"},P=c("h1",null,"這是後台首頁",-1),R=c("hr",null,null,-1);function x(a,t,r,e,E,u){const n=l("router-link"),h=l("RouterView");return m(),f("div",g,[P,s(n,{to:"/admin/products"},{default:i(()=>[o("產品管理列表")]),_:1}),o(" | "),s(n,{to:"/admin/orders"},{default:i(()=>[o("訂單管理列表")]),_:1}),o(" | "),s(n,{to:"/"},{default:i(()=>[o("回前台首頁")]),_:1}),o(" | "),c("a",{href:"#",onClick:t[0]||(t[0]=k((...d)=>u.logout&&u.logout(...d),["prevent"]))},"登出"),o(" | "),R,s(h)])}const D=_($,[["render",x]]);export{D as default};
